(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{CSEv:function(e,t,a){"use strict";var l=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Telt");var n=r(a("Tckk")),s=r(a("2Taf")),o=r(a("vZ4D")),u=r(a("MhPg")),i=r(a("l4Ni")),d=r(a("ujKo")),c=l(a("q1tI"));a("LvDl");function f(e){var t=m();return function(){var a,l=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,i.default)(this,a)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var p=function(e){(0,u.default)(a,e);var t=f(a);function a(){return(0,s.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"render",value:function(){console.log("AvatarAccount"),console.log(this.props);var e={backgroundColor:"#64a9dd"},t={color:"#fff",fontSize:"5rem"};return this.props.sourceAvatar&&-1!==this.props.sourceAvatar.indexOf("http")&&(e={backgroundColor:"#64a9dd00"}),c.default.createElement("div",null,c.default.createElement(n.default,{size:200,style:e,src:""!==this.props.sourceAvatar?this.props.sourceAvatar:void 0},c.default.createElement("div",{style:t},this.props.sourceAvatar)))}}]),a}(c.PureComponent);t.default=p},VHOG:function(e,t,a){"use strict";var l=a("g09b"),r=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var n=l(a("bx4M"));a("T2oS");var s=l(a("W9HT")),o=l(a("jehZ"));a("+L6B");var u=l(a("2/Rp"));a("Pwec");var i=l(a("CtXQ"));a("y8nQ");var d=l(a("Vl3Y"));a("5NDa");var c=l(a("5rEg"));a("/zsF");var f=l(a("PArb"));a("14J3");var m=l(a("BMrR"));a("jCWc");var p=l(a("kPKH")),g=l(a("eHn4"));a("miYZ");var v=l(a("tsqr")),h=l(a("2Taf")),y=l(a("vZ4D")),E=l(a("MhPg")),b=l(a("l4Ni")),S=l(a("ujKo"));a("OaEy");var I,M,A,R=l(a("2fM7")),k=r(a("q1tI")),x=(a("LvDl"),a("Hx5s")),U=l(a("cato")),D=a("Y2fQ"),P=l(a("vSmI")),_=a("Hg0r");function T(e){var t=w();return function(){var a,l=(0,S.default)(e);if(t){var r=(0,S.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,b.default)(this,a)}}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var C=R.default.Option,F="",q="+521",N=(I=(0,_.connect)(function(e){var t=e.user,a=e.loading;return{user:t,loading:a.models.user,userByEmail:t.userByEmail,isUpdated:t.isUpdated,avatarUser:t.avatarUser}}),I((A=function(e){(0,E.default)(a,e);var t=T(a);function a(){var e;(0,h.default)(this,a);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return e=t.call.apply(t,[this].concat(r)),e.state={loading:!1},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFieldsAndScroll(function(t,a){var l=localStorage.getItem("url");if("undefined"!==l){a["urlimage"]=e.props.avatarUser.urlImage;var r=a.prefix+a.phone_number;a.phone_number=r,t||(console.log("Received values of form: ",a),e.putDataUser(a),e.saveAvatarUser(a))}else v.default.error((0,D.formatMessage)({id:"accountSettings.mode.message.err"}))})},e.putDataUser=function(t){e.props.dispatch({type:"user/updateDataUser",payload:{payload:{GET:{email:localStorage.getItem("email"),Authorization:sessionStorage.getItem("idToken")},PUT:{name:"name",valueName:t.name,family:"family_name",valueFamiy:t.family_name,middle:"middle_name",valueMiddle:t.middle_name,phone:"phone_number",valuePhone:t.phone_number,username:t.email,Authorization:sessionStorage.getItem("idToken")}}}})},e.saveAvatarUser=function(t){e.props.dispatch({type:"user/saveAvatarUser",payload:{payload:{GET:{user:localStorage.getItem("email"),Authorization:sessionStorage.getItem("idToken")},POST:{urlImage:t.urlimage,user:localStorage.getItem("email"),Authorization:sessionStorage.getItem("idToken")}}}})},e.UpdateValidation=function(){e.props.dispatch({type:"user/updateValidation",payload:{}})},e.getBase64=function(e,t){console.log("step 4");var a=new FileReader;a.addEventListener("load",function(){return t(a.result)}),a.readAsDataURL(e),console.log("step 5")},e.dummyRequest=function(e){e.file;var t=e.onSuccess;console.log("step fake"),setTimeout(function(){t("ok")},0)},e.handleChange=function(t){if(console.log("step 1"),console.log(t),"uploading"===t.file.status)return console.log("step 2"),void console.log(t);"done"===t.file.status&&(console.log("step 3"),e.getBase64(t.file.originFileObj,function(t){return e.props.dispatch({type:"user/updateValidationAvatar",payload:{Items:(0,g.default)({},0,{urlImage:t,user:localStorage.getItem("email")})}})}))},e}return(0,y.default)(a,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"user/fetchUserByEmail",payload:{payload:{email:localStorage.getItem("email"),Authorization:sessionStorage.getItem("idToken")}}}),this.props.dispatch({type:"user/fetchAvatarUser",payload:{payload:{user:localStorage.getItem("email"),Authorization:sessionStorage.getItem("idToken")}}})}},{key:"render",value:function(){var e={labelCol:{xs:{span:24},sm:{span:8},md:{span:6},lg:{span:8},xl:{span:7}},wrapperCol:{xs:{span:24},sm:{span:12},md:{span:14},lg:{span:14},xl:{span:14}}},t=this.props,a=t.form,l=t.loading,r=(t.user.user,t.userByEmail),g=t.isUpdated,h=t.submitting,y=t.avatarUser,E=a.getFieldDecorator,b=r.phone_number;g&&(v.default.success((0,D.formatMessage)({id:"accountSettings.mode.message.save"})),this.UpdateValidation()),void 0!=b&&(F=b.substr(4),q=b.substr(-14,4));var S=E("prefix",{initialValue:q})(k.default.createElement(R.default,null,k.default.createElement(C,{value:"+521"},k.default.createElement(D.FormattedMessage,{id:"accountSettings.label.prefix-one"})),k.default.createElement(C,{value:"+522"},k.default.createElement(D.FormattedMessage,{id:"accountSettings.label.prefix-two"}))));return k.default.createElement(x.PageHeaderWrapper,{title:(0,D.formatMessage)({id:"accountSettings.mode.message.account"})},k.default.createElement(n.default,null,k.default.createElement(s.default,{tip:(0,D.formatMessage)({id:"accountSettings.security.message.account"}),spinning:l},k.default.createElement(d.default,(0,o.default)({},e,{onSubmit:this.handleSubmit}),k.default.createElement(m.default,null,k.default.createElement(p.default,{lg:12,xl:24,className:P.default.avatar},k.default.createElement("div",null,k.default.createElement(U.default,{changeImagen:this.handleChange,customRequest:this.dummyRequest,stateImage:void 0!=y?y.urlImage:"",stateName:r.name?r.name.substr(0,1):""}),void 0!=y?localStorage.setItem("url",this.props.avatarUser.urlImage):""))),k.default.createElement(f.default,null),k.default.createElement(m.default,null,k.default.createElement(p.default,{lg:12,xl:12},k.default.createElement(d.default.Item,{label:(0,D.formatMessage)({id:"register.label.name"})},E("name",{initialValue:r.name,rules:[{required:!0,message:k.default.createElement(D.FormattedMessage,{id:"register.mode.message.name"})}]})(k.default.createElement(c.default,{disabled:"true"==localStorage.getItem("socialNetwork")})))),k.default.createElement(p.default,{lg:12,xl:12},k.default.createElement(d.default.Item,{label:(0,D.formatMessage)({id:"register.label.lastfam"})},E("family_name",{initialValue:r.family_name,rules:[{required:!0,message:k.default.createElement(D.FormattedMessage,{id:"register.mode.message.lastfam"})}]})(k.default.createElement(c.default,{disabled:"true"==localStorage.getItem("socialNetwork")})))),k.default.createElement(p.default,{lg:12,xl:12},k.default.createElement(d.default.Item,{label:(0,D.formatMessage)({id:"register.label.lastmid"})},E("middle_name",{initialValue:r.middle_name,rules:[{required:!0,message:k.default.createElement(D.FormattedMessage,{id:"register.mode.message.lastmid"})}]})(k.default.createElement(c.default,{disabled:"true"==localStorage.getItem("socialNetwork")})))),k.default.createElement(p.default,{lg:12,xl:12},k.default.createElement(d.default.Item,{label:(0,D.formatMessage)({id:"register.label.phone"})},E("phone_number",{initialValue:F,rules:[{required:!0,message:k.default.createElement(D.FormattedMessage,{id:"register.mode.message.phone"})},{pattern:/^\d{10}$/,message:k.default.createElement(D.FormattedMessage,{id:"register.security.message.phone"})}]})(k.default.createElement(c.default,{addonBefore:S,disabled:"true"==localStorage.getItem("socialNetwork")})))),k.default.createElement(p.default,{lg:12,xl:12},k.default.createElement(d.default.Item,{label:(0,D.formatMessage)({id:"register.label.email"})},E("email",{initialValue:r.email,rules:[{required:!0,message:k.default.createElement(D.FormattedMessage,{id:"register.mode.message.email"})},{type:"email",message:k.default.createElement(D.FormattedMessage,{id:"register.mode.message.email-inv"})}]})(k.default.createElement(c.default,{disabled:!0}))))),k.default.createElement(m.default,null,k.default.createElement(p.default,{span:22,className:P.default.botton},k.default.createElement(u.default,{loading:h,type:"primary",htmlType:"submit"},k.default.createElement(i.default,{type:"check"}),k.default.createElement(D.FormattedMessage,{id:"accountSettings.button.save"}))))))))}}]),a}(k.PureComponent),M=A))||M),V=d.default.create()(N);t.default=V},ZCxH:function(e,t,a){e.exports={labelone:"antd-pro-pages-general-components-styles-general.css-labelone",avatar:"antd-pro-pages-general-components-styles-general.css-avatar"}},cato:function(e,t,a){"use strict";var l=a("tAuX"),r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("DZo9");var n=r(a("8z0m"));a("+L6B");var s=r(a("2/Rp"));a("Pwec");var o=r(a("CtXQ")),u=r(a("2Taf")),i=r(a("vZ4D")),d=r(a("MhPg")),c=r(a("l4Ni")),f=r(a("ujKo")),m=l(a("q1tI")),p=(a("LvDl"),r(a("CSEv"))),g=a("Y2fQ"),v=r(a("ZCxH"));function h(e){var t=y();return function(){var a,l=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;a=Reflect.construct(l,arguments,r)}else a=l.apply(this,arguments);return(0,c.default)(this,a)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var E=function(e){(0,d.default)(a,e);var t=h(a);function a(){return(0,u.default)(this,a),t.apply(this,arguments)}return(0,i.default)(a,[{key:"render",value:function(){return console.log("UploadAvatar"),console.log(this.props),m.default.createElement("div",null,m.default.createElement(n.default,{onChange:this.props.changeImagen,customRequest:this.props.customRequest,showUploadList:!1},m.default.createElement(p.default,{sourceAvatar:""===this.props.stateImage?this.props.stateName:this.props.stateImage}),m.default.createElement(s.default,{className:v.default.avatar},m.default.createElement(o.default,{type:"upload"}),m.default.createElement(g.FormattedMessage,{id:"accountSettings.label.upload-image"}))))}}]),a}(m.PureComponent);t.default=E},vSmI:function(e,t,a){e.exports={avatar:"antd-pro-pages-account-styles-account.css-avatar",name:"antd-pro-pages-account-styles-account.css-name",mail:"antd-pro-pages-account-styles-account.css-mail",botton:"antd-pro-pages-account-styles-account.css-botton"}}}]);